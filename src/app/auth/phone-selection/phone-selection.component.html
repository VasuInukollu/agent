<form [formGroup]="phoneSelectionForm" autocomplete="off" (ngSubmit)="mapDevice()">
  <mat-progress-bar mode="indeterminate" *ngIf="isLoading"> </mat-progress-bar>
  <mat-card>
    <mat-card-header>
      <div mat-card-avatar class="agent-image"></div>
      <mat-card-title>Agent</mat-card-title>
      <mat-card-subtitle>Welcome back</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="mat-card-subtitle">
        You logged in successfully.<br><br>
        We now need the phone number you would be using to receive the calls from queues.
        Enter the 4 digit extention number you are currently using.
      </div>

      <mat-form-field>
        <input matInput type="text" placeholder="Phone Number" formControlName="deviceName" id="phone">
        <mat-error *ngIf="hasError('deviceName', 'required')">Phone Number is required</mat-error>
        <mat-error *ngIf="hasError('deviceName', 'pattern')">Special characters are not allowed</mat-error>
        <mat-error *ngIf="hasError('deviceName', 'maxlength')">4 characters max.</mat-error>
      </mat-form-field>

    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" [disabled]="!phoneSelectionForm.valid || disable">SUBMIT</button>
      <a href="{{manager}}" target="_manager" mat-button color="secondary">MANAGE</a>
    </mat-card-actions>
  </mat-card>

</form>
